export const dynamicForms = {
  title: "Dynamic Form Generator",
  description: "Build forms that dynamically add/remove fields based on user input and conditions",
  code_examples: [
    {
      example: "Example 1:",
      code: "function addFormField(container, fieldType, name) {\n  const field = document.createElement('input');\n  field.type = fieldType;\n  field.name = name;\n  container.appendChild(field);\n}",
    },
  ],
  hints: [
    {
      hint: "Hint: Use template literals for dynamic field creation",
    },
    {
      hint: "Consider field dependencies and conditional logic",
    },
  ],
  solution: [
    {
      approach: "Approach 1: Field Factory Pattern",
      code: "class FieldFactory {\n  createField(type, config) {\n    const field = document.createElement('input');\n    field.type = type;\n    Object.assign(field, config);\n    return field;\n  }\n  \n  createSelect(options, config) {\n    const select = document.createElement('select');\n    options.forEach(option => {\n      const optionEl = document.createElement('option');\n      optionEl.value = option.value;\n      optionEl.textContent = option.label;\n      select.appendChild(optionEl);\n    });\n    Object.assign(select, config);\n    return select;\n  }\n}",
    },
  ],
  files: [
    {
      name: "index.html",
      code: "<!DOCTYPE html>\n<html lang='en'>\n<head>\n  <meta charset='UTF-8'>\n  <meta name='viewport' content='width=device-width, initial-scale=1.0'>\n  <title>Dynamic Form Generator</title>\n  <link rel='stylesheet' href='styles.css'>\n</head>\n<body>\n  <div class='container'>\n    <h1>Dynamic Form Generator</h1>\n    \n    <div class='form-builder-section'>\n      <h3>Form Builder</h3>\n      <div class='builder-controls'>\n        <div class='field-type-selector'>\n          <label>Field Type:</label>\n          <select id='fieldType'>\n            <option value='text'>Text Input</option>\n            <option value='email'>Email</option>\n            <option value='number'>Number</option>\n            <option value='date'>Date</option>\n            <option value='select'>Dropdown</option>\n            <option value='checkbox'>Checkbox</option>\n            <option value='radio'>Radio Button</option>\n            <option value='textarea'>Text Area</option>\n          </select>\n        </div>\n        \n        <div class='field-config'>\n          <label>Field Label:</label>\n          <input type='text' id='fieldLabel' placeholder='Enter field label'>\n          \n          <label>Field Name:</label>\n          <input type='text' id='fieldName' placeholder='Enter field name'>\n          \n          <label>\n            <input type='checkbox' id='fieldRequired'> Required\n          </label>\n          \n          <label>Placeholder:</label>\n          <input type='text' id='fieldPlaceholder' placeholder='Enter placeholder text'>\n        </div>\n        \n        <div class='field-options' id='fieldOptions' style='display: none;'>\n          <label>Options (one per line):</label>\n          <textarea id='optionsText' placeholder='Option 1&#10;Option 2&#10;Option 3'></textarea>\n        </div>\n        \n        <div class='builder-actions'>\n          <button id='addField'>Add Field</button>\n          <button id='clearForm'>Clear Form</button>\n          <button id='saveForm'>Save Form</button>\n          <button id='loadForm'>Load Form</button>\n        </div>\n      </div>\n    </div>\n    \n    <div class='dynamic-form-section'>\n      <h3>Generated Form</h3>\n      <div class='form-container'>\n        <form id='dynamicForm'>\n          <div id='formFields' class='form-fields'></div>\n          <div class='form-actions'>\n            <button type='submit'>Submit Form</button>\n            <button type='button' id='resetForm'>Reset</button>\n          </div>\n        </form>\n      </div>\n    </div>\n    \n    <div class='conditional-form-section'>\n      <h3>Conditional Logic Demo</h3>\n      <div class='conditional-demo'>\n        <div class='form-group'>\n          <label for='userType'>User Type:</label>\n          <select id='userType' name='userType'>\n            <option value=''>Select user type</option>\n            <option value='student'>Student</option>\n            <option value='teacher'>Teacher</option>\n            <option value='admin'>Administrator</option>\n          </select>\n        </div>\n        \n        <div id='conditionalFields' class='conditional-fields'></div>\n      </div>\n    </div>\n    \n    <div class='form-data-section'>\n      <h3>Form Data</h3>\n      <div class='data-display'>\n        <div class='data-section'>\n          <h4>Form Structure:</h4>\n          <pre id='formStructure'>{}</pre>\n        </div>\n        <div class='data-section'>\n          <h4>Submitted Data:</h4>\n          <pre id='submittedData'>{}</pre>\n        </div>\n      </div>\n    </div>\n  </div>\n  <script src='script.js'></script>\n</body>\n</html>"
    },
    {
      name: "styles.css",
      code: "* { margin: 0; padding: 0; box-sizing: border-box; }\nbody { font-family: Arial, sans-serif; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); min-height: 100vh; padding: 2rem; }\n.container { max-width: 1200px; margin: 0 auto; background: white; border-radius: 16px; padding: 2rem; box-shadow: 0 20px 40px rgba(0,0,0,0.1); }\nh1 { color: #333; margin-bottom: 2rem; text-align: center; font-size: 2.5rem; }\n.form-builder-section, .dynamic-form-section, .conditional-form-section, .form-data-section { margin: 3rem 0; padding: 2rem; border: 2px solid #f0f0f0; border-radius: 12px; background: #fafafa; }\n.form-builder-section h3, .dynamic-form-section h3, .conditional-form-section h3, .form-data-section h3 { color: #666; margin-bottom: 1.5rem; font-size: 1.2rem; text-align: center; }\n.builder-controls { background: white; border-radius: 8px; padding: 2rem; border: 2px solid #dee2e6; }\n.field-type-selector, .field-config, .field-options, .builder-actions { margin-bottom: 1.5rem; }\n.field-type-selector label, .field-config label, .field-options label { display: block; margin-bottom: 0.5rem; font-weight: 500; color: #333; }\n.field-type-selector select, .field-config input, .field-options textarea { width: 100%; padding: 0.8rem; border: 2px solid #dee2e6; border-radius: 6px; font-size: 1rem; margin-bottom: 1rem; }\n.field-options textarea { min-height: 100px; resize: vertical; }\n.builder-actions { display: flex; gap: 1rem; flex-wrap: wrap; }\nbutton { padding: 0.8rem 1.5rem; background: linear-gradient(45deg, #667eea, #764ba2); color: white; border: none; border-radius: 6px; cursor: pointer; font-weight: bold; transition: transform 0.2s ease; }\nbutton:hover { transform: translateY(-2px); box-shadow: 0 4px 15px rgba(102, 126, 234, 0.4); }\nbutton:active { transform: translateY(0); }\n.form-container { background: white; border-radius: 8px; padding: 2rem; border: 2px solid #dee2e6; }\n.form-fields { margin-bottom: 2rem; }\n.dynamic-field { margin-bottom: 1.5rem; padding: 1rem; border: 1px solid #e9ecef; border-radius: 6px; position: relative; }\n.dynamic-field label { display: block; margin-bottom: 0.5rem; font-weight: 500; color: #333; }\n.dynamic-field input, .dynamic-field select, .dynamic-field textarea { width: 100%; padding: 0.8rem; border: 2px solid #dee2e6; border-radius: 6px; font-size: 1rem; }\n.dynamic-field input:focus, .dynamic-field select:focus, .dynamic-field textarea:focus { outline: none; border-color: #667eea; box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1); }\n.dynamic-field textarea { min-height: 100px; resize: vertical; }\n.remove-field { position: absolute; top: 0.5rem; right: 0.5rem; background: #ff6b6b; color: white; border: none; border-radius: 50%; width: 30px; height: 30px; cursor: pointer; font-size: 18px; line-height: 1; }\n.remove-field:hover { background: #ff5252; }\n.form-actions { display: flex; gap: 1rem; justify-content: center; }\n.conditional-demo { background: white; border-radius: 8px; padding: 2rem; border: 2px solid #dee2e6; }\n.conditional-fields { margin-top: 1.5rem; }\n.conditional-field { margin-bottom: 1rem; padding: 1rem; background: #f8f9fa; border-radius: 6px; border-left: 4px solid #667eea; }\n.conditional-field label { display: block; margin-bottom: 0.5rem; font-weight: 500; color: #333; }\n.conditional-field input { width: 100%; padding: 0.8rem; border: 2px solid #dee2e6; border-radius: 6px; font-size: 1rem; }\n.data-display { display: grid; grid-template-columns: 1fr 1fr; gap: 2rem; }\n.data-section { background: white; border-radius: 8px; padding: 1.5rem; border: 2px solid #dee2e6; }\n.data-section h4 { color: #667eea; margin-bottom: 1rem; font-size: 1.1rem; }\n.data-section pre { background: #2d3748; color: #e2e8f0; padding: 1rem; border-radius: 4px; font-family: 'Courier New', monospace; font-size: 0.9rem; overflow-x: auto; white-space: pre-wrap; }\n@media (max-width: 768px) { .container { padding: 1rem; } .form-builder-section, .dynamic-form-section, .conditional-form-section, .form-data-section { padding: 1rem; } .builder-controls { padding: 1rem; } .builder-actions { flex-direction: column; } .data-display { grid-template-columns: 1fr; } }"
    },
    {
      name: "script.js",
      code: "class DynamicFormGenerator {\n  constructor() {\n    this.formFields = [];\n    this.fieldIdCounter = 0;\n    this.init();\n  }\n  \n  init() {\n    this.setupEventListeners();\n    this.setupConditionalLogic();\n  }\n  \n  setupEventListeners() {\n    document.getElementById('addField').addEventListener('click', () => this.addField());\n    document.getElementById('clearForm').addEventListener('click', () => this.clearForm());\n    document.getElementById('saveForm').addEventListener('click', () => this.saveForm());\n    document.getElementById('loadForm').addEventListener('click', () => this.loadForm());\n    document.getElementById('resetForm').addEventListener('click', () => this.resetForm());\n    document.getElementById('dynamicForm').addEventListener('submit', (e) => this.handleSubmit(e));\n    \n    document.getElementById('fieldType').addEventListener('change', (e) => {\n      const optionsDiv = document.getElementById('fieldOptions');\n      if (['select', 'radio', 'checkbox'].includes(e.target.value)) {\n        optionsDiv.style.display = 'block';\n      } else {\n        optionsDiv.style.display = 'none';\n      }\n    });\n  }\n  \n  addField() {\n    const fieldType = document.getElementById('fieldType').value;\n    const fieldLabel = document.getElementById('fieldLabel').value;\n    const fieldName = document.getElementById('fieldName').value;\n    const fieldRequired = document.getElementById('fieldRequired').checked;\n    const fieldPlaceholder = document.getElementById('fieldPlaceholder').value;\n    const optionsText = document.getElementById('optionsText').value;\n    \n    if (!fieldLabel || !fieldName) {\n      alert('Please enter both field label and name');\n      return;\n    }\n    \n    const fieldConfig = {\n      id: this.fieldIdCounter++,\n      type: fieldType,\n      label: fieldLabel,\n      name: fieldName,\n      required: fieldRequired,\n      placeholder: fieldPlaceholder,\n      options: optionsText ? optionsText.split('\\n').filter(opt => opt.trim()) : []\n    };\n    \n    this.formFields.push(fieldConfig);\n    this.renderField(fieldConfig);\n    this.updateFormStructure();\n    this.clearFieldInputs();\n  }\n  \n  renderField(config) {\n    const container = document.getElementById('formFields');\n    const fieldDiv = document.createElement('div');\n    fieldDiv.className = 'dynamic-field';\n    fieldDiv.dataset.fieldId = config.id;\n    \n    const label = document.createElement('label');\n    label.textContent = config.label + (config.required ? ' *' : '');\n    label.setAttribute('for', `field_${config.id}`);\n    fieldDiv.appendChild(label);\n    \n    let field;\n    \n    switch (config.type) {\n      case 'textarea':\n        field = document.createElement('textarea');\n        field.placeholder = config.placeholder || '';\n        break;\n      \n      case 'select':\n        field = document.createElement('select');\n        if (config.options.length > 0) {\n          config.options.forEach(option => {\n            const optionEl = document.createElement('option');\n            optionEl.value = option;\n            optionEl.textContent = option;\n            field.appendChild(optionEl);\n          });\n        }\n        break;\n      \n      case 'radio':\n        const radioGroup = document.createElement('div');\n        config.options.forEach((option, index) => {\n          const radioDiv = document.createElement('div');\n          const radio = document.createElement('input');\n          radio.type = 'radio';\n          radio.name = config.name;\n          radio.value = option;\n          radio.id = `field_${config.id}_${index}`;\n          \n          const radioLabel = document.createElement('label');\n          radioLabel.setAttribute('for', radio.id);\n          radioLabel.textContent = option;\n          \n          radioDiv.appendChild(radio);\n          radioDiv.appendChild(radioLabel);\n          radioGroup.appendChild(radioDiv);\n        });\n        fieldDiv.appendChild(radioGroup);\n        break;\n      \n      case 'checkbox':\n        const checkboxGroup = document.createElement('div');\n        config.options.forEach((option, index) => {\n          const checkboxDiv = document.createElement('div');\n          const checkbox = document.createElement('input');\n          checkbox.type = 'checkbox';\n          checkbox.name = `${config.name}[]`;\n          checkbox.value = option;\n          checkbox.id = `field_${config.id}_${index}`;\n          \n          const checkboxLabel = document.createElement('label');\n          checkboxLabel.setAttribute('for', checkbox.id);\n          checkboxLabel.textContent = option;\n          \n          checkboxDiv.appendChild(checkbox);\n          checkboxDiv.appendChild(checkboxLabel);\n          checkboxGroup.appendChild(checkboxDiv);\n        });\n        fieldDiv.appendChild(checkboxGroup);\n        break;\n      \n      default:\n        field = document.createElement('input');\n        field.type = config.type;\n        field.placeholder = config.placeholder || '';\n        break;\n    }\n    \n    if (field && config.type !== 'radio' && config.type !== 'checkbox') {\n      field.id = `field_${config.id}`;\n      field.name = config.name;\n      if (config.required) field.required = true;\n      fieldDiv.appendChild(field);\n    }\n    \n    const removeBtn = document.createElement('button');\n    removeBtn.className = 'remove-field';\n    removeBtn.textContent = 'Ã—';\n    removeBtn.addEventListener('click', () => this.removeField(config.id));\n    fieldDiv.appendChild(removeBtn);\n    \n    container.appendChild(fieldDiv);\n  }\n  \n  removeField(fieldId) {\n    this.formFields = this.formFields.filter(field => field.id !== fieldId);\n    const fieldElement = document.querySelector(`[data-field-id=\"${fieldId}\"]`);\n    if (fieldElement) fieldElement.remove();\n    this.updateFormStructure();\n  }\n  \n  clearForm() {\n    this.formFields = [];\n    document.getElementById('formFields').innerHTML = '';\n    this.updateFormStructure();\n  }\n  \n  clearFieldInputs() {\n    document.getElementById('fieldLabel').value = '';\n    document.getElementById('fieldName').value = '';\n    document.getElementById('fieldRequired').checked = false;\n    document.getElementById('fieldPlaceholder').value = '';\n    document.getElementById('optionsText').value = '';\n  }\n  \n  updateFormStructure() {\n    const structureEl = document.getElementById('formStructure');\n    structureEl.textContent = JSON.stringify(this.formFields, null, 2);\n  }\n  \n  saveForm() {\n    const formData = {\n      fields: this.formFields,\n      timestamp: new Date().toISOString()\n    };\n    localStorage.setItem('dynamicForm', JSON.stringify(formData));\n    alert('Form saved successfully!');\n  }\n  \n  loadForm() {\n    const savedForm = localStorage.getItem('dynamicForm');\n    if (savedForm) {\n      const formData = JSON.parse(savedForm);\n      this.formFields = formData.fields;\n      document.getElementById('formFields').innerHTML = '';\n      this.formFields.forEach(field => this.renderField(field));\n      this.updateFormStructure();\n      alert('Form loaded successfully!');\n    } else {\n      alert('No saved form found');\n    }\n  }\n  \n  resetForm() {\n    document.getElementById('dynamicForm').reset();\n  }\n  \n  handleSubmit(e) {\n    e.preventDefault();\n    const formData = new FormData(e.target);\n    const data = {};\n    \n    for (let [key, value] of formData.entries()) {\n      if (data[key]) {\n        if (Array.isArray(data[key])) {\n          data[key].push(value);\n        } else {\n          data[key] = [data[key], value];\n        }\n      } else {\n        data[key] = value;\n      }\n    }\n    \n    document.getElementById('submittedData').textContent = JSON.stringify(data, null, 2);\n    alert('Form submitted successfully!');\n  }\n  \n  setupConditionalLogic() {\n    const userTypeSelect = document.getElementById('userType');\n    const conditionalFields = document.getElementById('conditionalFields');\n    \n    userTypeSelect.addEventListener('change', (e) => {\n      const userType = e.target.value;\n      conditionalFields.innerHTML = '';\n      \n      switch (userType) {\n        case 'student':\n          conditionalFields.innerHTML = `\n            <div class='conditional-field'>\n              <label for='studentId'>Student ID:</label>\n              <input type='text' id='studentId' name='studentId' placeholder='Enter your student ID'>\n            </div>\n            <div class='conditional-field'>\n              <label for='grade'>Grade Level:</label>\n              <select id='grade' name='grade'>\n                <option value=''>Select grade</option>\n                <option value='freshman'>Freshman</option>\n                <option value='sophomore'>Sophomore</option>\n                <option value='junior'>Junior</option>\n                <option value='senior'>Senior</option>\n              </select>\n            </div>\n            <div class='conditional-field'>\n              <label for='major'>Major:</label>\n              <input type='text' id='major' name='major' placeholder='Enter your major'>\n            </div>\n          `;\n          break;\n          \n        case 'teacher':\n          conditionalFields.innerHTML = `\n            <div class='conditional-field'>\n              <label for='teacherId'>Teacher ID:</label>\n              <input type='text' id='teacherId' name='teacherId' placeholder='Enter your teacher ID'>\n            </div>\n            <div class='conditional-field'>\n              <label for='subject'>Subject:</label>\n              <input type='text' id='subject' name='subject' placeholder='Enter your subject'>\n            </div>\n            <div class='conditional-field'>\n              <label for='experience'>Years of Experience:</label>\n              <input type='number' id='experience' name='experience' placeholder='Enter years of experience'>\n            </div>\n          `;\n          break;\n          \n        case 'admin':\n          conditionalFields.innerHTML = `\n            <div class='conditional-field'>\n              <label for='adminId'>Admin ID:</label>\n              <input type='text' id='adminId' name='adminId' placeholder='Enter your admin ID'>\n            </div>\n            <div class='conditional-field'>\n              <label for='department'>Department:</label>\n              <select id='department' name='department'>\n                <option value=''>Select department</option>\n                <option value='hr'>Human Resources</option>\n                <option value='finance'>Finance</option>\n                <option value='it'>Information Technology</option>\n                <option value='operations'>Operations</option>\n              </select>\n            </div>\n            <div class='conditional-field'>\n              <label for='accessLevel'>Access Level:</label>\n              <select id='accessLevel' name='accessLevel'>\n                <option value=''>Select access level</option>\n                <option value='basic'>Basic</option>\n                <option value='intermediate'>Intermediate</option>\n                <option value='advanced'>Advanced</option>\n                <option value='super'>Super Admin</option>\n              </select>\n            </div>\n          `;\n          break;\n      }\n    });\n  }\n}\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  new DynamicFormGenerator();\n});"
    }
  ],
  tests: [
    {
      test: "Test 1: Dynamic field creation",
      code: "const generator = new DynamicFormGenerator();\nconsole.log('Form generator initialized');"
    }
  ],
};
