export const formValidation = {
  title: "Advanced Form Validation",
  description: "Create comprehensive form validation with real-time feedback, custom rules, and error handling",
  code_examples: [
    {
      example: "Example 1:",
      code: "function validateEmail(email) {\n  const regex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n  return regex.test(email);\n}",
    },
  ],
  hints: [
    {
      hint: "Hint: Use blur and input events for real-time validation",
    },
    {
      hint: "Consider custom validation rules and error messages",
    },
  ],
  solution: [
    {
      approach: "Approach 1: Real-time Validation",
      code: "class FormValidator {\n  constructor(form) {\n    this.form = form;\n    this.rules = {};\n    this.setupEventListeners();\n  }\n  \n  addRule(field, rule) {\n    this.rules[field] = rule;\n  }\n  \n  validate() {\n    const errors = {};\n    Object.keys(this.rules).forEach(field => {\n      const value = this.form[field].value;\n      const rule = this.rules[field];\n      if (!rule.validate(value)) {\n        errors[field] = rule.message;\n      }\n    });\n    return errors;\n  }\n}",
    },
  ],
  files: [
    {
      name: "index.html",
      code: "<!DOCTYPE html>\n<html lang='en'>\n<head>\n  <meta charset='UTF-8'>\n  <meta name='viewport' content='width=device-width, initial-scale=1.0'>\n  <title>Advanced Form Validation</title>\n  <link rel='stylesheet' href='styles.css'>\n</head>\n<body>\n  <div class='container'>\n    <h1>Advanced Form Validation</h1>\n    \n    <div class='validation-section'>\n      <h3>User Registration Form</h3>\n      <form id='registrationForm' class='validation-form'>\n        <div class='form-group'>\n          <label for='username'>Username:</label>\n          <input type='text' id='username' name='username' required>\n          <div class='validation-feedback'>\n            <span class='error-message'></span>\n            <span class='success-message'></span>\n          </div>\n        </div>\n        \n        <div class='form-group'>\n          <label for='email'>Email:</label>\n          <input type='email' id='email' name='email' required>\n          <div class='validation-feedback'>\n            <span class='error-message'></span>\n            <span class='success-message'></span>\n          </div>\n        </div>\n        \n        <div class='form-group'>\n          <label for='password'>Password:</label>\n          <input type='password' id='password' name='password' required>\n          <div class='password-strength'>\n            <div class='strength-bar'>\n              <div class='strength-fill'></div>\n            </div>\n            <span class='strength-text'></span>\n          </div>\n          <div class='validation-feedback'>\n            <span class='error-message'></span>\n            <span class='success-message'></span>\n          </div>\n        </div>\n        \n        <div class='form-group'>\n          <label for='confirmPassword'>Confirm Password:</label>\n          <input type='password' id='confirmPassword' name='confirmPassword' required>\n          <div class='validation-feedback'>\n            <span class='error-message'></span>\n            <span class='success-message'></span>\n          </div>\n        </div>\n        \n        <div class='form-group'>\n          <label for='phone'>Phone Number:</label>\n          <input type='tel' id='phone' name='phone' placeholder='(123) 456-7890'>\n          <div class='validation-feedback'>\n            <span class='error-message'></span>\n            <span class='success-message'></span>\n          </div>\n        </div>\n        \n        <div class='form-group'>\n          <label for='birthdate'>Birth Date:</label>\n          <input type='date' id='birthdate' name='birthdate'>\n          <div class='validation-feedback'>\n            <span class='error-message'></span>\n            <span class='success-message'></span>\n          </div>\n        </div>\n        \n        <div class='form-group'>\n          <label for='website'>Website:</label>\n          <input type='url' id='website' name='website' placeholder='https://example.com'>\n          <div class='validation-feedback'>\n            <span class='error-message'></span>\n            <span class='success-message'></span>\n          </div>\n        </div>\n        \n        <div class='form-group'>\n          <label>Interests:</label>\n          <div class='checkbox-group'>\n            <label><input type='checkbox' name='interests' value='coding'> Coding</label>\n            <label><input type='checkbox' name='interests' value='design'> Design</label>\n            <label><input type='checkbox' name='interests' value='music'> Music</label>\n            <label><input type='checkbox' name='interests' value='sports'> Sports</label>\n          </div>\n          <div class='validation-feedback'>\n            <span class='error-message'></span>\n            <span class='success-message'></span>\n          </div>\n        </div>\n        \n        <div class='form-group'>\n          <label for='terms'>\n            <input type='checkbox' id='terms' name='terms' required>\n            I agree to the terms and conditions\n          </label>\n          <div class='validation-feedback'>\n            <span class='error-message'></span>\n            <span class='success-message'></span>\n          </div>\n        </div>\n        \n        <div class='form-actions'>\n          <button type='submit' class='submit-btn'>Register</button>\n          <button type='button' class='reset-btn'>Reset Form</button>\n        </div>\n      </form>\n    </div>\n    \n    <div class='validation-section'>\n      <h3>Validation Rules</h3>\n      <div class='rules-display'>\n        <div class='rule-item'>\n          <h4>Username</h4>\n          <p>3-20 characters, alphanumeric and underscore only</p>\n        </div>\n        <div class='rule-item'>\n          <h4>Email</h4>\n          <p>Valid email format required</p>\n        </div>\n        <div class='rule-item'>\n          <h4>Password</h4>\n          <p>8+ characters, uppercase, lowercase, number, and special character</p>\n        </div>\n        <div class='rule-item'>\n          <h4>Phone</h4>\n          <p>Valid US phone number format</p>\n        </div>\n        <div class='rule-item'>\n          <h4>Birth Date</h4>\n          <p>Must be at least 18 years old</p>\n        </div>\n        <div class='rule-item'>\n          <h4>Website</h4>\n          <p>Valid URL format (optional)</p>\n        </div>\n      </div>\n    </div>\n    \n    <div class='validation-section'>\n      <h3>Form Status</h3>\n      <div class='status-display'>\n        <div class='status-item'>\n          <h4>Overall Validity:</h4>\n          <span id='overallStatus' class='status-indicator invalid'>Invalid</span>\n        </div>\n        <div class='status-item'>\n          <h4>Error Count:</h4>\n          <span id='errorCount' class='status-count'>0</span>\n        </div>\n        <div class='status-item'>\n          <h4>Valid Fields:</h4>\n          <span id='validCount' class='status-count'>0</span>\n        </div>\n        <div class='status-item'>\n          <h4>Completion:</h4>\n          <div class='progress-bar'>\n            <div id='progressFill' class='progress-fill'></div>\n          </div>\n          <span id='progressText' class='progress-text'>0%</span>\n        </div>\n      </div>\n    </div>\n  </div>\n  <script src='script.js'></script>\n</body>\n</html>"
    },
    {
      name: "styles.css",
      code: "* {\n  margin: 0;\n  padding: 0;\n  box-sizing: border-box;\n}\n\nbody {\n  font-family: Arial, sans-serif;\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n  min-height: 100vh;\n  padding: 2rem;\n}\n\n.container {\n  max-width: 800px;\n  margin: 0 auto;\n  background: white;\n  border-radius: 16px;\n  padding: 2rem;\n  box-shadow: 0 20px 40px rgba(0,0,0,0.1);\n}\n\nh1 {\n  color: #333;\n  margin-bottom: 2rem;\n  text-align: center;\n  font-size: 2.5rem;\n}\n\n.validation-section {\n  margin: 3rem 0;\n  padding: 2rem;\n  border: 2px solid #f0f0f0;\n  border-radius: 12px;\n  background: #fafafa;\n}\n\n.validation-section h3 {\n  color: #666;\n  margin-bottom: 1.5rem;\n  font-size: 1.2rem;\n  text-align: center;\n}\n\n.validation-form {\n  background: white;\n  border-radius: 8px;\n  padding: 2rem;\n  border: 2px solid #dee2e6;\n}\n\n.form-group {\n  margin-bottom: 1.5rem;\n}\n\n.form-group label {\n  display: block;\n  margin-bottom: 0.5rem;\n  font-weight: 500;\n  color: #333;\n}\n\n.form-group input {\n  width: 100%;\n  padding: 0.8rem;\n  border: 2px solid #dee2e6;\n  border-radius: 6px;\n  font-size: 1rem;\n  transition: border-color 0.3s ease, box-shadow 0.3s ease;\n}\n\n.form-group input:focus {\n  outline: none;\n  border-color: #667eea;\n  box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);\n}\n\n.form-group input.valid {\n  border-color: #4ecdc4;\n  background-color: rgba(78, 205, 196, 0.05);\n}\n\n.form-group input.invalid {\n  border-color: #ff6b6b;\n  background-color: rgba(255, 107, 107, 0.05);\n}\n\n.validation-feedback {\n  margin-top: 0.5rem;\n  min-height: 1.2rem;\n}\n\n.error-message {\n  color: #ff6b6b;\n  font-size: 0.9rem;\n  display: block;\n}\n\n.success-message {\n  color: #4ecdc4;\n  font-size: 0.9rem;\n  display: block;\n}\n\n.password-strength {\n  margin-top: 0.5rem;\n}\n\n.strength-bar {\n  width: 100%;\n  height: 8px;\n  background: #e9ecef;\n  border-radius: 4px;\n  overflow: hidden;\n  margin-bottom: 0.5rem;\n}\n\n.strength-fill {\n  height: 100%;\n  width: 0%;\n  transition: width 0.3s ease, background-color 0.3s ease;\n  border-radius: 4px;\n}\n\n.strength-fill.weak {\n  background-color: #ff6b6b;\n  width: 25%;\n}\n\n.strength-fill.fair {\n  background-color: #ffd93d;\n  width: 50%;\n}\n\n.strength-fill.good {\n  background-color: #6bcf7f;\n  width: 75%;\n}\n\n.strength-fill.strong {\n  background-color: #4ecdc4;\n  width: 100%;\n}\n\n.strength-text {\n  font-size: 0.9rem;\n  font-weight: 500;\n}\n\n.checkbox-group {\n  display: flex;\n  flex-wrap: wrap;\n  gap: 1rem;\n}\n\n.checkbox-group label {\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  font-weight: normal;\n  cursor: pointer;\n}\n\n.checkbox-group input[type='checkbox'] {\n  width: auto;\n  margin: 0;\n}\n\n.form-actions {\n  display: flex;\n  gap: 1rem;\n  justify-content: center;\n  margin-top: 2rem;\n}\n\n.submit-btn,\n.reset-btn {\n  padding: 0.8rem 2rem;\n  border: none;\n  border-radius: 6px;\n  font-size: 1rem;\n  font-weight: bold;\n  cursor: pointer;\n  transition: transform 0.2s ease, box-shadow 0.2s ease;\n}\n\n.submit-btn {\n  background: linear-gradient(45deg, #667eea, #764ba2);\n  color: white;\n}\n\n.submit-btn:hover:not(:disabled) {\n  transform: translateY(-2px);\n  box-shadow: 0 4px 15px rgba(102, 126, 234, 0.4);\n}\n\n.submit-btn:disabled {\n  opacity: 0.5;\n  cursor: not-allowed;\n}\n\n.reset-btn {\n  background: #6c757d;\n  color: white;\n}\n\n.reset-btn:hover {\n  transform: translateY(-2px);\n  box-shadow: 0 4px 15px rgba(108, 117, 125, 0.4);\n}\n\n.rules-display {\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));\n  gap: 1rem;\n}\n\n.rule-item {\n  background: white;\n  padding: 1rem;\n  border-radius: 8px;\n  border: 1px solid #dee2e6;\n}\n\n.rule-item h4 {\n  color: #667eea;\n  margin-bottom: 0.5rem;\n  font-size: 1rem;\n}\n\n.rule-item p {\n  color: #666;\n  font-size: 0.9rem;\n  line-height: 1.4;\n}\n\n.status-display {\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));\n  gap: 1rem;\n}\n\n.status-item {\n  background: white;\n  padding: 1rem;\n  border-radius: 8px;\n  border: 1px solid #dee2e6;\n  text-align: center;\n}\n\n.status-item h4 {\n  color: #666;\n  margin-bottom: 0.5rem;\n  font-size: 0.9rem;\n}\n\n.status-indicator {\n  font-weight: bold;\n  padding: 0.3rem 0.8rem;\n  border-radius: 20px;\n  font-size: 0.9rem;\n}\n\n.status-indicator.valid {\n  background-color: rgba(78, 205, 196, 0.2);\n  color: #4ecdc4;\n}\n\n.status-indicator.invalid {\n  background-color: rgba(255, 107, 107, 0.2);\n  color: #ff6b6b;\n}\n\n.status-count {\n  font-size: 1.5rem;\n  font-weight: bold;\n  color: #667eea;\n}\n\n.progress-bar {\n  width: 100%;\n  height: 12px;\n  background: #e9ecef;\n  border-radius: 6px;\n  overflow: hidden;\n  margin-bottom: 0.5rem;\n}\n\n.progress-fill {\n  height: 100%;\n  width: 0%;\n  background: linear-gradient(45deg, #667eea, #764ba2);\n  transition: width 0.3s ease;\n  border-radius: 6px;\n}\n\n.progress-text {\n  font-weight: bold;\n  color: #667eea;\n}\n\n/* Responsive Design */\n@media (max-width: 768px) {\n  .container {\n    padding: 1rem;\n  }\n  \n  .validation-section {\n    padding: 1rem;\n  }\n  \n  .validation-form {\n    padding: 1rem;\n  }\n  \n  .form-actions {\n    flex-direction: column;\n  }\n  \n  .checkbox-group {\n    flex-direction: column;\n    gap: 0.5rem;\n  }\n  \n  .rules-display {\n    grid-template-columns: 1fr;\n  }\n  \n  .status-display {\n    grid-template-columns: repeat(2, 1fr);\n  }\n}\n\n@media (max-width: 480px) {\n  .container {\n    padding: 0.5rem;\n  }\n  \n  .validation-section {\n    padding: 0.5rem;\n  }\n  \n  .validation-form {\n    padding: 0.5rem;\n  }\n  \n  .status-display {\n    grid-template-columns: 1fr;\n  }\n}"
    },
    {
      name: "script.js",
      code: "// Advanced Form Validation\n\nclass FormValidator {\n  constructor(formId) {\n    this.form = document.getElementById(formId);\n    this.fields = {};\n    this.errors = {};\n    this.isValid = false;\n    this.setupValidation();\n  }\n  \n  setupValidation() {\n    // Define validation rules\n    this.validationRules = {\n      username: {\n        required: true,\n        minLength: 3,\n        maxLength: 20,\n        pattern: /^[a-zA-Z0-9_]+$/,\n        message: 'Username must be 3-20 characters, alphanumeric and underscore only'\n      },\n      email: {\n        required: true,\n        pattern: /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/,\n        message: 'Please enter a valid email address'\n      },\n      password: {\n        required: true,\n        minLength: 8,\n        pattern: /^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)(?=.*[@$!%*?&])[A-Za-z\\d@$!%*?&]/,\n        message: 'Password must be 8+ characters with uppercase, lowercase, number, and special character'\n      },\n      confirmPassword: {\n        required: true,\n        match: 'password',\n        message: 'Passwords must match'\n      },\n      phone: {\n        pattern: /^\\(?([0-9]{3})\\)?[-.\\s]?([0-9]{3})[-.\\s]?([0-9]{4})$/,\n        message: 'Please enter a valid phone number'\n      },\n      birthdate: {\n        required: true,\n        minAge: 18,\n        message: 'You must be at least 18 years old'\n      },\n      website: {\n        pattern: /^https?:\\/\\/.+\\..+/,\n        message: 'Please enter a valid URL starting with http:// or https://'\n      },\n      interests: {\n        required: true,\n        minChecked: 1,\n        message: 'Please select at least one interest'\n      },\n      terms: {\n        required: true,\n        message: 'You must agree to the terms and conditions'\n      }\n    };\n    \n    // Setup event listeners\n    this.form.addEventListener('submit', (e) => this.handleSubmit(e));\n    this.form.addEventListener('reset', () => this.handleReset());\n    \n    // Add real-time validation\n    Object.keys(this.validationRules).forEach(fieldName => {\n      const field = this.form.elements[fieldName];\n      if (field) {\n        // Handle different field types\n        if (field.type === 'checkbox' && fieldName === 'interests') {\n          field.forEach(checkbox => {\n            checkbox.addEventListener('change', () => this.validateField(fieldName));\n          });\n        } else {\n          field.addEventListener('input', () => this.validateField(fieldName));\n          field.addEventListener('blur', () => this.validateField(fieldName));\n        }\n      }\n    });\n    \n    // Initial validation\n    this.validateAll();\n  }\n  \n  validateField(fieldName) {\n    const field = this.form.elements[fieldName];\n    const rules = this.validationRules[fieldName];\n    \n    if (!field || !rules) return true;\n    \n    let value;\n    if (field.type === 'checkbox' && fieldName === 'interests') {\n      const checkedBoxes = Array.from(field).filter(cb => cb.checked);\n      value = checkedBoxes.map(cb => cb.value);\n    } else if (field.type === 'checkbox') {\n      value = field.checked;\n    } else {\n      value = field.value.trim();\n    }\n    \n    let isValid = true;\n    let errorMessage = '';\n    \n    // Required validation\n    if (rules.required) {\n      if (fieldName === 'interests') {\n        if (value.length === 0) {\n          isValid = false;\n          errorMessage = rules.message;\n        }\n      } else if (!value) {\n        isValid = false;\n        errorMessage = 'This field is required';\n      }\n    }\n    \n    // Skip other validations if field is empty and not required\n    if (!value && !rules.required) {\n      this.updateFieldUI(fieldName, true, '');\n      return true;\n    }\n    \n    // Pattern validation\n    if (isValid && rules.pattern && value) {\n      if (!rules.pattern.test(value)) {\n        isValid = false;\n        errorMessage = rules.message;\n      }\n    }\n    \n    // Length validation\n    if (isValid && value) {\n      if (rules.minLength && value.length < rules.minLength) {\n        isValid = false;\n        errorMessage = `Must be at least ${rules.minLength} characters`;\n      }\n      if (rules.maxLength && value.length > rules.maxLength) {\n        isValid = false;\n        errorMessage = `Must be no more than ${rules.maxLength} characters`;\n      }\n    }\n    \n    // Match validation (for confirm password)\n    if (isValid && rules.match && value) {\n      const matchField = this.form.elements[rules.match];\n      if (matchField && value !== matchField.value) {\n        isValid = false;\n        errorMessage = rules.message;\n      }\n    }\n    \n    // Min age validation\n    if (isValid && rules.minAge && value) {\n      const birthDate = new Date(value);\n      const today = new Date();\n      const age = Math.floor((today - birthDate) / (365.25 * 24 * 60 * 60 * 1000));\n      if (age < rules.minAge) {\n        isValid = false;\n        errorMessage = rules.message;\n      }\n    }\n    \n    // Min checked validation\n    if (isValid && rules.minChecked && Array.isArray(value)) {\n      if (value.length < rules.minChecked) {\n        isValid = false;\n        errorMessage = rules.message;\n      }\n    }\n    \n    // Special handling for password strength\n    if (fieldName === 'password') {\n      this.updatePasswordStrength(value);\n    }\n    \n    // Update UI\n    this.updateFieldUI(fieldName, isValid, errorMessage);\n    \n    return isValid;\n  }\n  \n  updateFieldUI(fieldName, isValid, errorMessage) {\n    const field = this.form.elements[fieldName];\n    const formGroup = field.closest('.form-group');\n    const errorElement = formGroup.querySelector('.error-message');\n    const successElement = formGroup.querySelector('.success-message');\n    \n    if (isValid) {\n      field.classList.remove('invalid');\n      field.classList.add('valid');\n      errorElement.textContent = '';\n      successElement.textContent = 'âœ“ Valid';\n    } else {\n      field.classList.remove('valid');\n      field.classList.add('invalid');\n      errorElement.textContent = errorMessage;\n      successElement.textContent = '';\n    }\n  }\n  \n  updatePasswordStrength(password) {\n    const strengthFill = document.querySelector('.strength-fill');\n    const strengthText = document.querySelector('.strength-text');\n    \n    let strength = 0;\n    \n    if (password.length >= 8) strength++;\n    if (password.length >= 12) strength++;\n    if (/[a-z]/.test(password)) strength++;\n    if (/[A-Z]/.test(password)) strength++;\n    if (/\\d/.test(password)) strength++;\n    if (/[@$!%*?&]/.test(password)) strength++;\n    \n    strengthFill.className = 'strength-fill';\n    \n    if (strength <= 2) {\n      strengthFill.classList.add('weak');\n      strengthText.textContent = 'Weak';\n      strengthText.style.color = '#ff6b6b';\n    } else if (strength <= 4) {\n      strengthFill.classList.add('fair');\n      strengthText.textContent = 'Fair';\n      strengthText.style.color = '#ffd93d';\n    } else if (strength <= 5) {\n      strengthFill.classList.add('good');\n      strengthText.textContent = 'Good';\n      strengthText.style.color = '#6bcf7f';\n    } else {\n      strengthFill.classList.add('strong');\n      strengthText.textContent = 'Strong';\n      strengthText.style.color = '#4ecdc4';\n    }\n  }\n  \n  validateAll() {\n    let allValid = true;\n    let errorCount = 0;\n    let validCount = 0;\n    \n    Object.keys(this.validationRules).forEach(fieldName => {\n      const isValid = this.validateField(fieldName);\n      if (!isValid) {\n        allValid = false;\n        errorCount++;\n      } else {\n        validCount++;\n      }\n    });\n    \n    this.isValid = allValid;\n    this.updateStatus(errorCount, validCount);\n    \n    return allValid;\n  }\n  \n  updateStatus(errorCount, validCount) {\n    const overallStatus = document.getElementById('overallStatus');\n    const errorCountEl = document.getElementById('errorCount');\n    const validCountEl = document.getElementById('validCount');\n    const progressFill = document.getElementById('progressFill');\n    const progressText = document.getElementById('progressText');\n    \n    const totalFields = Object.keys(this.validationRules).length;\n    const completion = Math.round((validCount / totalFields) * 100);\n    \n    if (this.isValid) {\n      overallStatus.textContent = 'Valid';\n      overallStatus.className = 'status-indicator valid';\n    } else {\n      overallStatus.textContent = 'Invalid';\n      overallStatus.className = 'status-indicator invalid';\n    }\n    \n    errorCountEl.textContent = errorCount;\n    validCountEl.textContent = validCount;\n    progressFill.style.width = completion + '%';\n    progressText.textContent = completion + '%';\n  }\n  \n  handleSubmit(e) {\n    e.preventDefault();\n    \n    const isValid = this.validateAll();\n    \n    if (isValid) {\n      alert('Form submitted successfully!');\n      // Here you would normally send the form data to a server\n    } else {\n      alert('Please fix the errors before submitting.');\n      // Focus on first invalid field\n      const firstInvalid = this.form.querySelector('.invalid');\n      if (firstInvalid) {\n        firstInvalid.focus();\n      }\n    }\n  }\n  \n  handleReset() {\n    // Clear all validation states\n    this.form.querySelectorAll('.valid, .invalid').forEach(field => {\n      field.classList.remove('valid', 'invalid');\n    });\n    \n    this.form.querySelectorAll('.error-message, .success-message').forEach(msg => {\n      msg.textContent = '';\n    });\n    \n    // Reset password strength\n    const strengthFill = document.querySelector('.strength-fill');\n    const strengthText = document.querySelector('.strength-text');\n    strengthFill.className = 'strength-fill';\n    strengthText.textContent = '';\n    \n    // Reset status\n    this.updateStatus(0, 0);\n  }\n}\n\n// Initialize form validator\ndocument.addEventListener('DOMContentLoaded', () => {\n  const validator = new FormValidator('registrationForm');\n});"
    }
  ],
  tests: [
    {
      test: "Test 1: Email validation",
      code: "const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\nconsole.log('Email valid:', emailRegex.test('test@example.com'));"
    }
  ],
};
