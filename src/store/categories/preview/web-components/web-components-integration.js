export const webComponentsIntegration = {
  title: "Web Components Integration",
  description: "Build complete web applications using custom elements, Shadow DOM, and HTML templates",
  code_examples: [
    {
      example: "Example 1:",
      code: "class App extends HTMLElement {\n  constructor() {\n    super();\n    this.attachShadow({ mode: 'open' });\n  }\n  \n  connectedCallback() {\n    this.shadowRoot.innerHTML = `\n      <app-header></app-header>\n      <app-main></app-main>\n      <app-footer></app-footer>\n    `;\n  }\n}",
    },
  ],
  hints: [
    {
      hint: "Hint: Combine multiple web components for complex applications",
    },
    {
      hint: "Use CSS custom properties for consistent theming",
    },
  ],
  solution: [
    {
      approach: "Approach 1: Component architecture",
      code: "class MicroApp extends HTMLElement {\n  constructor() {\n    super();\n    this.attachShadow({ mode: 'open' });\n    this.components = new Map();\n  }\n  \n  connectedCallback() {\n    this.loadComponents();\n    this.render();\n  }\n}",
    },
  ],
  files: [
    {
      name: "index.html",
      code: "<!DOCTYPE html>\n<html lang='en'>\n<head>\n  <meta charset='UTF-8'>\n  <meta name='viewport' content='width=device-width, initial-scale=1.0'>\n  <title>Web Components Integration</title>\n  <link rel='stylesheet' href='styles.css'>\n</head>\n<body>\n  <div class='container'>\n    <h1>Web Components Integration</h1>\n    \n    <div class='demo-section'>\n      <h3>Complete Application</h3>\n      <div class='app-demo'>\n        <micro-app>\n          <app-header title='Web Components Demo'></app-header>\n          <app-main>\n            <dashboard-widget></dashboard-widget>\n            <task-list></task-list>\n            <user-profile></user-profile>\n          </app-main>\n          <app-footer></app-footer>\n        </micro-app>\n      </div>\n    </div>\n    \n    <div class='demo-section'>\n      <h3>Component Communication</h3>\n      <div class='communication-demo'>\n        <data-provider id='data-provider'></data-provider>\n        <data-consumer id='consumer-1' provider='data-provider'></data-consumer>\n        <data-consumer id='consumer-2' provider='data-provider'></data-consumer>\n        \n        <div class='comm-controls'>\n          <button id='update-data'>Update Data</button>\n          <button id='clear-data'>Clear Data</button>\n        </div>\n      </div>\n    </div>\n    \n    <div class='demo-section'>\n      <h3>Theme System</h3>\n      <div class='theme-demo'>\n        <theme-switcher></theme-switcher>\n        \n        <div class='themed-components'>\n          <themed-card title='Card 1'>Content with theme support</themed-card>\n          <themed-button>Themed Button</themed-button>\n          <themed-input placeholder='Themed input'></themed-input>\n        </div>\n      </div>\n    </div>\n  </div>\n  \n  <script src='script.js'></script>\n</body>\n</html>"
    },
    {
      name: "styles.css",
      code: "* { margin: 0; padding: 0; box-sizing: border-box; }\nbody { font-family: Arial, sans-serif; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); min-height: 100vh; padding: 2rem; }\n.container { max-width: 1200px; margin: 0 auto; background: white; border-radius: 16px; padding: 2rem; box-shadow: 0 20px 40px rgba(0,0,0,0.1); }\nh1 { color: #333; margin-bottom: 2rem; text-align: center; font-size: 2.5rem; }\n.demo-section { margin: 3rem 0; padding: 2rem; border: 2px solid #f0f0f0; border-radius: 12px; background: #fafafa; }\n.demo-section h3 { color: #666; margin-bottom: 1.5rem; font-size: 1.2rem; text-align: center; }\n.app-demo, .communication-demo, .theme-demo { padding: 2rem; background: white; border-radius: 12px; border: 2px solid #dee2e6; }\n.comm-controls, .theme-controls { display: flex; gap: 1rem; margin: 1rem 0; }\n.comm-controls button, .theme-controls button { background: #667eea; color: white; border: none; padding: 0.75rem 1.5rem; border-radius: 6px; cursor: pointer; }\n.comm-controls button:hover, .theme-controls button:hover { background: #5a67d8; }\n.themed-components { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1rem; margin-top: 1rem; }\n\n/* CSS Custom Properties for theming */\n:root {\n  --primary-color: #667eea;\n  --secondary-color: #764ba2;\n  --background-color: #ffffff;\n  --text-color: #333333;\n  --border-color: #e0e0e0;\n  --shadow: 0 2px 10px rgba(0,0,0,0.1);\n}\n\n[data-theme='dark'] {\n  --primary-color: #4ecdc4;\n  --secondary-color: #44a08d;\n  --background-color: #2c3e50;\n  --text-color: #ecf0f1;\n  --border-color: #34495e;\n  --shadow: 0 2px 10px rgba(0,0,0,0.3);\n}\n\n[data-theme='colorful'] {\n  --primary-color: #ff6b6b;\n  --secondary-color: #ee5a24;\n  --background-color: #f8f9fa;\n  --text-color: #2c3e50;\n  --border-color: #dee2e6;\n  --shadow: 0 2px 10px rgba(255,107,107,0.2);\n}\n\n/* Responsive Design */\n@media (max-width: 768px) {\n  .container { padding: 1rem; }\n  .demo-section { padding: 1rem; }\n  .app-demo, .communication-demo, .theme-demo { padding: 1rem; }\n  .themed-components { grid-template-columns: 1fr; }\n}"
    },
    {
      name: "script.js",
      code: "// Web Components Integration\n\nclass MicroApp extends HTMLElement {\n  constructor() {\n    super();\n    this.attachShadow({ mode: 'open' });\n  }\n  \n  connectedCallback() {\n    this.render();\n  }\n  \n  render() {\n    this.shadowRoot.innerHTML = `\n      <style>\n        :host {\n          display: block;\n          background: var(--background-color);\n          border-radius: 12px;\n          overflow: hidden;\n          box-shadow: var(--shadow);\n        }\n      </style>\n      <slot></slot>\n    `;\n  }\n}\n\nclass AppHeader extends HTMLElement {\n  constructor() {\n    super();\n    this.attachShadow({ mode: 'open' });\n  }\n  \n  static get observedAttributes() {\n    return ['title'];\n  }\n  \n  attributeChangedCallback(name, oldValue, newValue) {\n    if (name === 'title') {\n      this.render();\n    }\n  }\n  \n  connectedCallback() {\n    this.render();\n  }\n  \n  render() {\n    const title = this.getAttribute('title') || 'Application';\n    \n    this.shadowRoot.innerHTML = `\n      <style>\n        :host {\n          display: block;\n          background: var(--primary-color);\n          color: white;\n          padding: 1.5rem;\n          text-align: center;\n        }\n        \n        h1 {\n          margin: 0;\n          font-size: 1.5rem;\n        }\n      </style>\n      <h1>${title}</h1>\n    `;\n  }\n}\n\nclass AppMain extends HTMLElement {\n  constructor() {\n    super();\n    this.attachShadow({ mode: 'open' });\n  }\n  \n  connectedCallback() {\n    this.render();\n  }\n  \n  render() {\n    this.shadowRoot.innerHTML = `\n      <style>\n        :host {\n          display: block;\n          padding: 2rem;\n          background: var(--background-color);\n        }\n      </style>\n      <slot></slot>\n    `;\n  }\n}\n\nclass AppFooter extends HTMLElement {\n  constructor() {\n    super();\n    this.attachShadow({ mode: 'open' });\n  }\n  \n  connectedCallback() {\n    this.render();\n  }\n  \n  render() {\n    this.shadowRoot.innerHTML = `\n      <style>\n        :host {\n          display: block;\n          background: var(--secondary-color);\n          color: white;\n          padding: 1rem;\n          text-align: center;\n          font-size: 0.875rem;\n        }\n      </style>\n      <p>&copy; 2024 Web Components Integration Demo</p>\n    `;\n  }\n}\n\nclass DashboardWidget extends HTMLElement {\n  constructor() {\n    super();\n    this.attachShadow({ mode: 'open' });\n    this.data = {\n      users: 1234,\n      sales: 5678,\n      revenue: 9012\n    };\n  }\n  \n  connectedCallback() {\n    this.render();\n    this.startDataUpdates();\n  }\n  \n  render() {\n    this.shadowRoot.innerHTML = `\n      <style>\n        :host {\n          display: block;\n          background: var(--background-color);\n          border: 1px solid var(--border-color);\n          border-radius: 8px;\n          padding: 1.5rem;\n          margin-bottom: 1rem;\n        }\n        \n        .widget-title {\n          font-size: 1.2rem;\n          font-weight: bold;\n          color: var(--text-color);\n          margin-bottom: 1rem;\n        }\n        \n        .stats {\n          display: grid;\n          grid-template-columns: repeat(auto-fit, minmax(100px, 1fr));\n          gap: 1rem;\n        }\n        \n        .stat {\n          text-align: center;\n          padding: 1rem;\n          background: var(--primary-color);\n          color: white;\n          border-radius: 6px;\n        }\n        \n        .stat-value {\n          font-size: 1.5rem;\n          font-weight: bold;\n        }\n        \n        .stat-label {\n          font-size: 0.875rem;\n          opacity: 0.8;\n        }\n      </style>\n      <div class='widget-title'>Dashboard</div>\n      <div class='stats'>\n        <div class='stat'>\n          <div class='stat-value'>${this.data.users}</div>\n          <div class='stat-label'>Users</div>\n        </div>\n        <div class='stat'>\n          <div class='stat-value'>${this.data.sales}</div>\n          <div class='stat-label'>Sales</div>\n        </div>\n        <div class='stat'>\n          <div class='stat-value'>$${this.data.revenue}</div>\n          <div class='stat-label'>Revenue</div>\n        </div>\n      </div>\n    `;\n  }\n  \n  startDataUpdates() {\n    setInterval(() => {\n      this.data.users += Math.floor(Math.random() * 10);\n      this.data.sales += Math.floor(Math.random() * 20);\n      this.data.revenue += Math.floor(Math.random() * 50);\n      this.render();\n    }, 3000);\n  }\n}\n\nclass TaskList extends HTMLElement {\n  constructor() {\n    super();\n    this.attachShadow({ mode: 'open' });\n    this.tasks = [\n      { id: 1, title: 'Complete project', completed: false },\n      { id: 2, title: 'Review code', completed: true },\n      { id: 3, title: 'Update documentation', completed: false }\n    ];\n  }\n  \n  connectedCallback() {\n    this.render();\n  }\n  \n  render() {\n    this.shadowRoot.innerHTML = `\n      <style>\n        :host {\n          display: block;\n          background: var(--background-color);\n          border: 1px solid var(--border-color);\n          border-radius: 8px;\n          padding: 1.5rem;\n          margin-bottom: 1rem;\n        }\n        \n        .task-title {\n          font-size: 1.2rem;\n          font-weight: bold;\n          color: var(--text-color);\n          margin-bottom: 1rem;\n        }\n        \n        .task-list {\n          list-style: none;\n        }\n        \n        .task-item {\n          padding: 0.75rem;\n          border-bottom: 1px solid var(--border-color);\n          display: flex;\n          align-items: center;\n          gap: 0.5rem;\n        }\n        \n        .task-item:last-child {\n          border-bottom: none;\n        }\n        \n        .task-checkbox {\n          width: 20px;\n          height: 20px;\n        }\n        \n        .task-text {\n          flex: 1;\n          color: var(--text-color);\n        }\n        \n        .task-completed {\n          text-decoration: line-through;\n          opacity: 0.6;\n        }\n      </style>\n      <div class='task-title'>Tasks</div>\n      <ul class='task-list'>\n        ${this.tasks.map(task => `\n          <li class='task-item'>\n            <input type='checkbox' class='task-checkbox' \n                   ${task.completed ? 'checked' : ''} \n                   data-id='${task.id}'>\n            <span class='task-text ${task.completed ? 'task-completed' : ''}'>${task.title}</span>\n          </li>\n        `).join('')}\n      </ul>\n    `;\n    \n    this.setupEventListeners();\n  }\n  \n  setupEventListeners() {\n    const checkboxes = this.shadowRoot.querySelectorAll('.task-checkbox');\n    checkboxes.forEach(checkbox => {\n      checkbox.addEventListener('change', (e) => {\n        const taskId = parseInt(e.target.dataset.id);\n        const task = this.tasks.find(t => t.id === taskId);\n        if (task) {\n          task.completed = e.target.checked;\n          this.render();\n        }\n      });\n    });\n  }\n}\n\nclass UserProfile extends HTMLElement {\n  constructor() {\n    super();\n    this.attachShadow({ mode: 'open' });\n  }\n  \n  connectedCallback() {\n    this.render();\n  }\n  \n  render() {\n    this.shadowRoot.innerHTML = `\n      <style>\n        :host {\n          display: block;\n          background: var(--background-color);\n          border: 1px solid var(--border-color);\n          border-radius: 8px;\n          padding: 1.5rem;\n          text-align: center;\n        }\n        \n        .avatar {\n          width: 60px;\n          height: 60px;\n          border-radius: 50%;\n          background: var(--primary-color);\n          color: white;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          font-size: 1.5rem;\n          font-weight: bold;\n          margin: 0 auto 1rem;\n        }\n        \n        .name {\n          font-size: 1.2rem;\n          font-weight: bold;\n          color: var(--text-color);\n          margin-bottom: 0.5rem;\n        }\n        \n        .role {\n          color: var(--text-color);\n          opacity: 0.7;\n        }\n      </style>\n      <div class='avatar'>JD</div>\n      <div class='name'>John Doe</div>\n      <div class='role'>Developer</div>\n    `;\n  }\n}\n\nclass DataProvider extends HTMLElement {\n  constructor() {\n    super();\n    this.attachShadow({ mode: 'open' });\n    this.data = { message: 'Hello from provider!', timestamp: Date.now() };\n  }\n  \n  connectedCallback() {\n    this.render();\n    this.setupEventListeners();\n  }\n  \n  render() {\n    this.shadowRoot.innerHTML = `\n      <style>\n        :host {\n          display: block;\n          background: var(--primary-color);\n          color: white;\n          padding: 1rem;\n          border-radius: 8px;\n          margin-bottom: 1rem;\n          text-align: center;\n        }\n      </style>\n      <div>Provider: ${this.data.message}</div>\n    `;\n  }\n  \n  setupEventListeners() {\n    document.getElementById('update-data')?.addEventListener('click', () => {\n      this.data = {\n        message: `Updated at ${new Date().toLocaleTimeString()}`,\n        timestamp: Date.now()\n      };\n      this.render();\n      this.notifyConsumers();\n    });\n    \n    document.getElementById('clear-data')?.addEventListener('click', () => {\n      this.data = { message: 'No data', timestamp: Date.now() };\n      this.render();\n      this.notifyConsumers();\n    });\n  }\n  \n  notifyConsumers() {\n    document.querySelectorAll('data-consumer').forEach(consumer => {\n      consumer.updateData(this.data);\n    });\n  }\n}\n\nclass DataConsumer extends HTMLElement {\n  constructor() {\n    super();\n    this.attachShadow({ mode: 'open' });\n    this.data = null;\n  }\n  \n  connectedCallback() {\n    this.render();\n  }\n  \n  updateData(data) {\n    this.data = data;\n    this.render();\n  }\n  \n  render() {\n    this.shadowRoot.innerHTML = `\n      <style>\n        :host {\n          display: block;\n          background: var(--background-color);\n          border: 1px solid var(--border-color);\n          border-radius: 8px;\n          padding: 1rem;\n          margin-bottom: 1rem;\n        }\n        \n        .consumer-title {\n          font-weight: bold;\n          color: var(--text-color);\n          margin-bottom: 0.5rem;\n        }\n        \n        .consumer-data {\n          color: var(--text-color);\n          font-family: monospace;\n          font-size: 0.875rem;\n        }\n      </style>\n      <div class='consumer-title'>Consumer ${this.id}</div>\n      <div class='consumer-data'>${this.data ? JSON.stringify(this.data, null, 2) : 'No data'}</div>\n    `;\n  }\n}\n\nclass ThemeSwitcher extends HTMLElement {\n  constructor() {\n    super();\n    this.attachShadow({ mode: 'open' });\n  }\n  \n  connectedCallback() {\n    this.render();\n    this.setupEventListeners();\n  }\n  \n  render() {\n    this.shadowRoot.innerHTML = `\n      <style>\n        :host {\n          display: block;\n          margin-bottom: 1rem;\n        }\n        \n        .theme-controls {\n          display: flex;\n          gap: 1rem;\n          justify-content: center;\n        }\n        \n        .theme-btn {\n          padding: 0.5rem 1rem;\n          border: none;\n          border-radius: 4px;\n          cursor: pointer;\n          background: var(--primary-color);\n          color: white;\n        }\n        \n        .theme-btn:hover {\n          opacity: 0.8;\n        }\n      </style>\n      <div class='theme-controls'>\n        <button class='theme-btn' data-theme='light'>Light</button>\n        <button class='theme-btn' data-theme='dark'>Dark</button>\n        <button class='theme-btn' data-theme='colorful'>Colorful</button>\n      </div>\n    `;\n  }\n  \n  setupEventListeners() {\n    const buttons = this.shadowRoot.querySelectorAll('.theme-btn');\n    buttons.forEach(btn => {\n      btn.addEventListener('click', () => {\n        const theme = btn.dataset.theme;\n        document.documentElement.setAttribute('data-theme', theme);\n      });\n    });\n  }\n}\n\nclass ThemedCard extends HTMLElement {\n  constructor() {\n    super();\n    this.attachShadow({ mode: 'open' });\n  }\n  \n  static get observedAttributes() {\n    return ['title'];\n  }\n  \n  attributeChangedCallback(name, oldValue, newValue) {\n    if (name === 'title') {\n      this.render();\n    }\n  }\n  \n  connectedCallback() {\n    this.render();\n  }\n  \n  render() {\n    const title = this.getAttribute('title') || 'Card';\n    \n    this.shadowRoot.innerHTML = `\n      <style>\n        :host {\n          display: block;\n          background: var(--background-color);\n          border: 1px solid var(--border-color);\n          border-radius: 8px;\n          padding: 1rem;\n          box-shadow: var(--shadow);\n        }\n        \n        .card-title {\n          font-weight: bold;\n          color: var(--text-color);\n          margin-bottom: 0.5rem;\n        }\n        \n        .card-content {\n          color: var(--text-color);\n        }\n      </style>\n      <div class='card-title'>${title}</div>\n      <div class='card-content'><slot></slot></div>\n    `;\n  }\n}\n\nclass ThemedButton extends HTMLElement {\n  constructor() {\n    super();\n    this.attachShadow({ mode: 'open' });\n  }\n  \n  connectedCallback() {\n    this.render();\n  }\n  \n  render() {\n    this.shadowRoot.innerHTML = `\n      <style>\n        button {\n          background: var(--primary-color);\n          color: white;\n          border: none;\n          padding: 0.75rem 1.5rem;\n          border-radius: 6px;\n          cursor: pointer;\n          font-size: 1rem;\n        }\n        \n        button:hover {\n          opacity: 0.8;\n        }\n      </style>\n      <button><slot></slot></button>\n    `;\n  }\n}\n\nclass ThemedInput extends HTMLElement {\n  constructor() {\n    super();\n    this.attachShadow({ mode: 'open' });\n  }\n  \n  static get observedAttributes() {\n    return ['placeholder'];\n  }\n  \n  attributeChangedCallback(name, oldValue, newValue) {\n    if (name === 'placeholder') {\n      this.render();\n    }\n  }\n  \n  connectedCallback() {\n    this.render();\n  }\n  \n  render() {\n    const placeholder = this.getAttribute('placeholder') || '';\n    \n    this.shadowRoot.innerHTML = `\n      <style>\n        input {\n          width: 100%;\n          padding: 0.75rem;\n          border: 1px solid var(--border-color);\n          border-radius: 6px;\n          background: var(--background-color);\n          color: var(--text-color);\n          font-size: 1rem;\n        }\n      </style>\n      <input type='text' placeholder='${placeholder}'>\n    `;\n  }\n}\n\n// Register all custom elements\ncustomElements.define('micro-app', MicroApp);\ncustomElements.define('app-header', AppHeader);\ncustomElements.define('app-main', AppMain);\ncustomElements.define('app-footer', AppFooter);\ncustomElements.define('dashboard-widget', DashboardWidget);\ncustomElements.define('task-list', TaskList);\ncustomElements.define('user-profile', UserProfile);\ncustomElements.define('data-provider', DataProvider);\ncustomElements.define('data-consumer', DataConsumer);\ncustomElements.define('theme-switcher', ThemeSwitcher);\ncustomElements.define('themed-card', ThemedCard);\ncustomElements.define('themed-button', ThemedButton);\ncustomElements.define('themed-input', ThemedInput);\n\n// Initialize demo\ndocument.addEventListener('DOMContentLoaded', () => {\n  console.log('Web Components Integration demo initialized');\n  \n  // Set initial theme\n  document.documentElement.setAttribute('data-theme', 'light');\n});"
    }
  ],
  tests: [
    {
      test: "Test 1: Web components integration",
      code: "const app = document.createElement('micro-app');\nconsole.log('Micro app created:', app.constructor.name);"
    }
  ],
};
