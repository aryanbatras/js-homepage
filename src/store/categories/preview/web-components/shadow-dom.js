export const shadowDom = {
  title: "Shadow DOM",
  description: "Master Shadow DOM for encapsulated styling and behavior in web components",
  code_examples: [
    {
      example: "Example 1:",
      code: "class ShadowElement extends HTMLElement {\n  constructor() {\n    super();\n    this.attachShadow({ mode: 'open' });\n    this.shadowRoot.innerHTML = '<style>p { color: blue; }</style><p>Shadow content</p>';\n  }\n}",
    },
  ],
  hints: [
    {
      hint: "Hint: Use open mode for debugging, closed mode for encapsulation",
    },
    {
      hint: "Consider CSS custom properties for theming",
    },
  ],
  solution: [
    {
      approach: "Approach 1: Encapsulated component",
      code: "class EncapsulatedCard extends HTMLElement {\n  constructor() {\n    super();\n    this.attachShadow({ mode: 'open' });\n  }\n  \n  connectedCallback() {\n    this.shadowRoot.innerHTML = `\n      <style>\n        :host { display: block; }\n        .card { border: 1px solid #ccc; padding: 1rem; }\n      </style>\n      <div class='card'><slot></slot></div>\n    `;\n  }\n}",
    },
  ],
  files: [
    {
      name: "index.html",
      code: "<!DOCTYPE html>\n<html lang='en'>\n<head>\n  <meta charset='UTF-8'>\n  <meta name='viewport' content='width=device-width, initial-scale=1.0'>\n  <title>Shadow DOM</title>\n  <link rel='stylesheet' href='styles.css'>\n</head>\n<body>\n  <div class='container'>\n    <h1>Shadow DOM</h1>\n    \n    <div class='demo-section'>\n      <h3>Encapsulated Components</h3>\n      <div class='component-grid'>\n        <shadow-card>\n          <h4>Shadow Card</h4>\n          <p>This card uses Shadow DOM for style encapsulation.</p>\n        </shadow-card>\n        \n        <shadow-button>Shadow Button</shadow-button>\n        \n        <shadow-input placeholder='Enter text' label='Input Field'></shadow-input>\n      </div>\n    </div>\n    \n    <div class='demo-section'>\n      <h3>Style Isolation</h3>\n      <div class='style-demo'>\n        <p>Regular paragraph (should be affected by page styles)</p>\n        <shadow-paragraph>This paragraph is inside Shadow DOM (should not be affected)</shadow-paragraph>\n        <p>Another regular paragraph</p>\n      </div>\n    </div>\n    \n    <div class='demo-section'>\n      <h3>Slot Composition</h3>\n      <div class='slot-demo'>\n        <shadow-container>\n          <div slot='header'>Header Content</div>\n          <div slot='main'>Main Content</div>\n          <div slot='footer'>Footer Content</div>\n        </shadow-container>\n      </div>\n    </div>\n  </div>\n  \n  <script src='script.js'></script>\n</body>\n</html>"
    },
    {
      name: "styles.css",
      code: "* { margin: 0; padding: 0; box-sizing: border-box; }\nbody { font-family: Arial, sans-serif; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); min-height: 100vh; padding: 2rem; }\n.container { max-width: 1200px; margin: 0 auto; background: white; border-radius: 16px; padding: 2rem; box-shadow: 0 20px 40px rgba(0,0,0,0.1); }\nh1 { color: #333; margin-bottom: 2rem; text-align: center; font-size: 2.5rem; }\n.demo-section { margin: 3rem 0; padding: 2rem; border: 2px solid #f0f0f0; border-radius: 12px; background: #fafafa; }\n.demo-section h3 { color: #666; margin-bottom: 1.5rem; font-size: 1.2rem; text-align: center; }\n.component-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 2rem; padding: 2rem; background: white; border-radius: 12px; border: 2px solid #dee2e6; }\n.style-demo { padding: 2rem; background: white; border-radius: 12px; border: 2px solid #dee2e6; }\n.style-demo p { color: red; font-size: 1.2rem; margin-bottom: 1rem; }\n.slot-demo { padding: 2rem; background: white; border-radius: 12px; border: 2px solid #dee2e6; }\n\n/* Responsive Design */\n@media (max-width: 768px) {\n  .container { padding: 1rem; }\n  .demo-section { padding: 1rem; }\n  .component-grid { grid-template-columns: 1fr; gap: 1rem; }\n}"
    },
    {
      name: "script.js",
      code: "// Shadow DOM Implementation\n\nclass ShadowCard extends HTMLElement {\n  constructor() {\n    super();\n    this.attachShadow({ mode: 'open' });\n  }\n  \n  connectedCallback() {\n    this.render();\n  }\n  \n  render() {\n    this.shadowRoot.innerHTML = `\n      <style>\n        :host {\n          display: block;\n          background: white;\n          border-radius: 8px;\n          padding: 1.5rem;\n          box-shadow: 0 2px 10px rgba(0,0,0,0.1);\n          border: 2px solid #667eea;\n        }\n        \n        h4 {\n          color: #667eea;\n          margin-bottom: 0.5rem;\n        }\n        \n        p {\n          color: #333;\n          line-height: 1.6;\n        }\n      </style>\n      <slot></slot>\n    `;\n  }\n}\n\nclass ShadowButton extends HTMLElement {\n  constructor() {\n    super();\n    this.attachShadow({ mode: 'open' });\n  }\n  \n  connectedCallback() {\n    this.render();\n    this.setupEventListeners();\n  }\n  \n  render() {\n    this.shadowRoot.innerHTML = `\n      <style>\n        button {\n          background: linear-gradient(45deg, #4ecdc4, #44a08d);\n          color: white;\n          border: none;\n          padding: 0.75rem 1.5rem;\n          border-radius: 6px;\n          cursor: pointer;\n          font-size: 1rem;\n          font-weight: 500;\n          transition: all 0.3s ease;\n        }\n        \n        button:hover {\n          transform: translateY(-2px);\n          box-shadow: 0 4px 12px rgba(78, 205, 196, 0.3);\n        }\n      </style>\n      <button>\n        <slot></slot>\n      </button>\n    `;\n  }\n  \n  setupEventListeners() {\n    const button = this.shadowRoot.querySelector('button');\n    button.addEventListener('click', () => {\n      console.log('Shadow button clicked!');\n    });\n  }\n}\n\nclass ShadowInput extends HTMLElement {\n  constructor() {\n    super();\n    this.attachShadow({ mode: 'open' });\n  }\n  \n  static get observedAttributes() {\n    return ['placeholder', 'label'];\n  }\n  \n  attributeChangedCallback(name, oldValue, newValue) {\n    if (oldValue !== newValue) {\n      this.render();\n    }\n  }\n  \n  connectedCallback() {\n    this.render();\n  }\n  \n  render() {\n    const placeholder = this.getAttribute('placeholder') || '';\n    const label = this.getAttribute('label') || '';\n    \n    this.shadowRoot.innerHTML = `\n      <style>\n        :host {\n          display: block;\n        }\n        \n        .input-group {\n          display: flex;\n          flex-direction: column;\n          gap: 0.5rem;\n        }\n        \n        label {\n          font-weight: 500;\n          color: #333;\n        }\n        \n        input {\n          padding: 0.75rem;\n          border: 2px solid #e0e0e0;\n          border-radius: 6px;\n          font-size: 1rem;\n          transition: border-color 0.3s ease;\n        }\n        \n        input:focus {\n          outline: none;\n          border-color: #4ecdc4;\n        }\n      </style>\n      <div class='input-group'>\n        ${label ? `<label>${label}</label>` : ''}\n        <input type='text' placeholder='${placeholder}'>\n      </div>\n    `;\n  }\n}\n\nclass ShadowParagraph extends HTMLElement {\n  constructor() {\n    super();\n    this.attachShadow({ mode: 'open' });\n  }\n  \n  connectedCallback() {\n    this.render();\n  }\n  \n  render() {\n    this.shadowRoot.innerHTML = `\n      <style>\n        p {\n          color: #4ecdc4;\n          font-size: 1.1rem;\n          font-style: italic;\n          padding: 1rem;\n          background: #f0f9ff;\n          border-radius: 6px;\n          border-left: 4px solid #4ecdc4;\n        }\n      </style>\n      <p>\n        <slot></slot>\n      </p>\n    `;\n  }\n}\n\nclass ShadowContainer extends HTMLElement {\n  constructor() {\n    super();\n    this.attachShadow({ mode: 'open' });\n  }\n  \n  connectedCallback() {\n    this.render();\n  }\n  \n  render() {\n    this.shadowRoot.innerHTML = `\n      <style>\n        :host {\n          display: block;\n          border: 2px solid #667eea;\n          border-radius: 12px;\n          overflow: hidden;\n        }\n        \n        .container {\n          display: grid;\n          grid-template-areas:\n            'header header'\n            'main main'\n            'footer footer';\n          gap: 1rem;\n          padding: 1rem;\n        }\n        \n        ::slotted([slot='header']) {\n          grid-area: header;\n          background: #667eea;\n          color: white;\n          padding: 1rem;\n          border-radius: 6px;\n          text-align: center;\n        }\n        \n        ::slotted([slot='main']) {\n          grid-area: main;\n          background: #f8f9fa;\n          padding: 1rem;\n          border-radius: 6px;\n        }\n        \n        ::slotted([slot='footer']) {\n          grid-area: footer;\n          background: #e9ecef;\n          padding: 1rem;\n          border-radius: 6px;\n          text-align: center;\n        }\n      </style>\n      <div class='container'>\n        <slot name='header'></slot>\n        <slot name='main'></slot>\n        <slot name='footer'></slot>\n      </div>\n    `;\n  }\n}\n\n// Register custom elements\ncustomElements.define('shadow-card', ShadowCard);\ncustomElements.define('shadow-button', ShadowButton);\ncustomElements.define('shadow-input', ShadowInput);\ncustomElements.define('shadow-paragraph', ShadowParagraph);\ncustomElements.define('shadow-container', ShadowContainer);\n\n// Demo functionality\ndocument.addEventListener('DOMContentLoaded', () => {\n  console.log('Shadow DOM components registered successfully');\n  \n  // Demonstrate style isolation\n  const shadowInputs = document.querySelectorAll('shadow-input');\n  shadowInputs.forEach(input => {\n    const inputElement = input.shadowRoot.querySelector('input');\n    inputElement.addEventListener('input', (e) => {\n      console.log('Shadow input value:', e.target.value);\n    });\n  });\n});"
    }
  ],
  tests: [
    {
      test: "Test 1: Shadow DOM creation",
      code: "const element = document.createElement('shadow-card');\nconsole.log('Shadow root exists:', !!element.shadowRoot);"
    }
  ],
};
